datasource db {
  provider = "mysql"
  url      = "mysql://root:1234asdf@localhost:3306/dietas"
}

generator client {
  provider = "prisma-client-py"
}

model Interaccion {
  id         Int     @id @default(autoincrement())
  puntuacion Float
  usuario    Usuario @relation(fields: [usuarioId], references: [id])
  usuarioId  Int
  receta     Recetas @relation(fields: [recetaId], references: [id])
  recetaId   Int
}

model Usuario {
  id                   Int                    @id @default(autoincrement())
  nombre               String                 @unique
  inter                Interaccion[]
  IngredientesDespensa IngredientesDespensa[]
  limiteCalorias       Float?
}

model Recetas {
  id           Int            @id @default(autoincrement())
  nombre       String
  calorias     Float?
  inter        Interaccion[]
  ingredientes Ingredientes[] @relation(references: [id])
}

model Ingredientes {
  id                   Int                    @id @default(autoincrement())
  name                 String                 @unique
  Recetas              Recetas[]              @relation(references: [id])
  IngredientesDespensa IngredientesDespensa[]
}

model IngredientesDespensa {
  id             Int          @id @default(autoincrement())
  cantidad       Int          @default(0)
  usuario        Usuario      @relation(fields: [usuarioId], references: [id])
  usuarioId      Int
  Ingrediente    Ingredientes @relation(fields: [ingredientesId], references: [id])
  ingredientesId Int
}
